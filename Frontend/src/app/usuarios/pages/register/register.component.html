<section class="container">
  <h1 class="text-primary-custom text-center fw-bold mb-5">
    {{ modo === "editar" ? "Editar usuario" : "Registrar usuario" }}
  </h1>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-floating mb-3">
      <input
        type="email"
        class="form-control"
        id="email"
        placeholder="Email"
        formControlName="email"
      />
      <label for="email" class="form-label">Email</label>
      @if (email.touched && email.hasError('required')) {
      <p class="text-danger" style="font-size: 14px">El email es obligatorio</p>
      } @if (email.touched && email.hasError('email')) {
      <p class="text-danger" style="font-size: 14px">El email no es válido</p>
      }
    </div>
    <div class="form-floating mb-3">
      <input
        type="usuario"
        class="form-control"
        id="usuario"
        placeholder="Usuario"
        formControlName="usuario"
      />
      <label for="usuario" class="form-label">Usuario</label>
      @if (usuario.touched && usuario.hasError('required')) {
      <p class="text-danger" style="font-size: 14px">
        El usuario es obligatorio
      </p>
      } @if (usuario.touched && usuario.hasError('minlength')) {
      <p class="text-danger" style="font-size: 14px">
        El usuario debe tener al menos 4 caracteres
      </p>
      }
    </div>
    <div class="form-floating mb-3">
      <input
        type="password"
        class="form-control"
        id="password"
        placeholder="Password"
        formControlName="password"
      />
      <label for="password" class="form-label">Password</label>
      @if (password.touched && password.hasError('required')) {
      <p class="text-danger" style="font-size: 14px">
        La contraseña es obligatoria
      </p>
      } @if (password.touched && password.hasError('minlength')) {
      <p class="text-danger" style="font-size: 14px">
        La contraseña debe tener al menos 6 caracteres
      </p>
      }
    </div>
    <div class="mb-3">
      <label for="perfil">Perfil</label>
      <select class="form-select" formControlName="perfil">
        <option value="default" selected>-- Seleccione una opción --</option>
        <option value="administrativo">Administrativo</option>
        <option value="inquilino">Inquilino</option>
        <option value="dueño">Dueño</option>
      </select>
      @if (perfil.touched && perfil.hasError('required')) {
      <p class="text-danger" style="font-size: 14px">
        El perfil es obligatorio
      </p>
      } @if (perfil.touched && perfil.hasError('pattern')) {
      <p class="text-danger" style="font-size: 14px">El perfil no es válido</p>
      }
    </div>
    <div class="mb-3">
      <label for="estado">Estado</label>
      <select class="form-select" formControlName="activo">
        <option selected value="true">Activo</option>
        <option value="false">Inactivo</option>
      </select>
      @if (activo.touched && activo.hasError('required')) {
      <p class="text-danger" style="font-size: 14px">
        El estado es obligatorio
      </p>
      } @if (activo.touched && activo.hasError('pattern')) {
      <p class="text-danger" style="font-size: 14px">El estado no es válido</p>
      }
    </div>
    <button
      type="submit"
      class="btn custom-color d-block w-100"
      [disabled]="status === 'loading'"
    >
      @if (status === 'loading') {
      <span
        class="spinner-border spinner-border-sm"
        role="status"
        aria-hidden="true"
      ></span>
      }
      {{ status === "loading" ? "Loading..." : "Guardar" }}
    </button>
  </form>
</section>
